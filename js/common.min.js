/* 20140518 */
Bevey=function(){"use strict";return{version:20140504,event:{list:[],add:function(a,b,c,d){d=d||!1,a.addEventListener?a.addEventListener(b,c,d):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c,Bevey.event.list.push([a,b,c])},remove:function(a,b,c,d){d=d||!1;var e=0;for(a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null,e;e<Bevey.event.list.length;e+=1)if(Bevey.event.list[e]&&Bevey.event.list[e]&&Bevey.event.list[e][0]===a&&Bevey.event.list[e][1]===b&&Bevey.event.list[e][2]===c){Bevey.event.list.splice(e,1);break}},removeAll:function(a){a=a||document;var b=Bevey.event.list.length-1;for(b;b>=0;b-=1)Bevey.event.list[b]&&(!Bevey.event.list[b]||Bevey.event.list[b][0]!==a&&a!==document||Bevey.event.remove(Bevey.event.list[b][0],Bevey.event.list[b][1],Bevey.event.list[b][2]))}},getTarget:function(a){return a=a||window.event,a.target?a.target:a.srcElement},hasAttribute:function(a,b,c){return a[b]?a[b].match(new RegExp("(\\s|^)"+c+"(\\s|$)")):void 0},hasClass:function(a,b){return Bevey.hasAttribute(a,"className",b)},addClass:function(a,b){Bevey.hasClass(a,b)||(a.className=Bevey.trim(a.className+" "+b))},removeClass:function(a,b){Bevey.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," "),a.className=Bevey.trim(a.className))},toggleClass:function(a,b){Bevey.hasClass(a,b)?Bevey.removeClass(a,b):Bevey.addClass(a,b)},getElementsByClassName:function(a,b,c){var d=[],e=[],f=0,g=0;if(b=b||document,c=c.toLowerCase()||"*","*"===c&&document.getElementsByClassName)return b.getElementsByClassName(a);if(b.getElementsByClassName)if(e=b.getElementsByClassName(a),c&&e.length)for(f in e)e[f].tagName&&e[f].tagName.toLowerCase()===c&&(d[g]=e[f],g+=1);else d=e;else{e=b.getElementsByTagName(c);for(f in e)Bevey.hasClass(e[f],a)&&(d[g]=e[f],g+=1)}return d},getText:function(a){return a.textContent?a.textContent:a.innerText?a.innerText:a.text?a.text:a.innerHTML},trim:function(a){return a=a||"",a.toString().replace(/^\s\s*/,"").replace(/\s\s*$/,"")},ajax:{request:function(a){a.method=a.method||"GET",a.onStart=a.onStart||function(){},a.onComplete=a.onComplete||function(){};var b,c,d="?";if(c=function(){switch(a.onStart(),typeof a.onComplete){case"object":a.onComplete.value?a.onComplete.value=a.response:a.onComplete.childNodes[0]&&Bevey.putText(a.onComplete,a.response);break;case"function":a.onComplete()}},window.XMLHttpRequest)b=new XMLHttpRequest;else{if(!window.ActiveXObject)return!1;b=new ActiveXObject("Microsoft.XMLHTTP")}"GET"===a.method&&((-1!==a.path.indexOf("?")||-1!==a.param.indexOf("?"))&&(d="&"),a.path=a.path+d+a.param,a.param=""),b.open(a.method.toUpperCase(),a.path,!0),"POST"===a.method&&b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),b.setRequestHeader("AJAX","true"),Bevey.event.add(b,"readystatechange",function(){if(4===b.readyState){if(200!==b.status)return!1;a.response=b.responseText,c()}}),b.send(a.param)}},init:function(){var a,b,c,d=Bevey.getElementsByClassName("header",document.body,"div")[0],e=Bevey.getElementsByClassName("body",document.body,"div")[0],f=Bevey.getElementsByClassName("text-form",e,"form");for(a=function(a){var b,c,d=Bevey.getTarget(a),e=((new Date).getTime(),"");a.preventDefault(),e=Bevey.getElementsByClassName("text-input",d,"input")[0].value,b=Bevey.getElementsByClassName("text-input",d,"input")[0].name,c={path:"/",param:b+"="+e,method:"POST",onComplete:function(){console.log(c.response)}},Bevey.ajax.request(c)},b=function(a){var b,c,d=0;if(document.getElementById(a))for(b=document.getElementById(a),c=b.getElementsByTagName("img"),d=0;d<c.length;d+=1)c[d].getAttribute("data-src")&&(c[d].src=c[d].getAttribute("data-src"),c[d].removeAttribute("data-src"))},b(document.body.className),c=0;c<f.length;c+=1)Bevey.event.add(f[c],"submit",a);Bevey.event.add(d,"click",function(a){var c=Bevey.getTarget(a).parentNode,f=c.tagName.toLowerCase(),g=document.getElementById(c.className),h=Bevey.getElementsByClassName("selected",d,"li")[0],i=Bevey.getElementsByClassName("selected",e,"div")[0];"li"===f&&(a.preventDefault(),c!==h&&(Bevey.removeClass(h,"selected"),Bevey.removeClass(i,"selected"),Bevey.addClass(c,"selected"),Bevey.addClass(g,"selected"),b(c.className.replace(" selected",""))))}),Bevey.event.add(e,"click",function(a){var b,c=Bevey.getTarget(a),d=c.tagName.toLowerCase(),e="",f=(new Date).getTime();c="img"===d?c.parentNode:c,c="i"===d?c.parentNode:c,c="span"===d?c.parentNode:c,"a"===c.tagName.toLowerCase()&&"external"!=c.rel&&(a.preventDefault(),e=c.href,b={path:e,param:"ts="+f,method:"GET",onComplete:function(){console.log(b.response)}},Bevey.ajax.request(b))}),Bevey.addClass(document.body,"rich"),"function"==typeof init&&init()}}}(),document.addEventListener&&document.addEventListener("DOMContentLoaded",Bevey.init,!1),Bevey.event.add(window,"load",function(){"use strict";document.addEventListener||Bevey.init()}),Bevey.event.add(window,"unload",function(){"use strict";Bevey.event.removeAll()});